HgSAO.fx ver0.0.2

SAO(Scalable Ambient Obscurance)エフェクトです。
SAOはSSAOの発展形態で、細かい凹凸に対しても比較的綺麗にAOを乗せることが出来ます。
mogg氏のScalableAO_MMMサンプル、及び開発元(NVIDIA)のサンプルコードを参考にMMD/MMMで
実用的に使えるように改良してみました。


・動作環境
SM3.0対応グラフィックボードが必須になります。
MMEv0.37, MMEv0.37x64，MMMv125a，MMM64v125aで動作確認を行っています。旧バージョンでは動作しない可能性があります。


・使用方法(MME)
(1)HgSAO.xをMMDにロードしてください。
(2)HgSAO.fxの先頭パラメータを適宜変更してください。
(3)MMDのアクセサリパラメータで以下の変更が可能です。
    X  : AO処理のScreenSpaceスケール比(-100〜+1000程度で調整)
    Y  : AO処理のDisk半径(-3〜+10程度で調整)
    Z  : AO処理のバイアス値(-0.1〜+0.1程度で調整)
    Rx : AO明度(-0.5〜+2.0程度で調整)
    Rz : AOのぼかし強度(-1〜+3程度で調整)
    Si : AOによる陰の濃度調整(0〜2程度で調整)
    Tr : 小さくすると陰の合成方法が 自己乗算→乗算 に変化します。


・AOキャンセルについて
｢MMEffect｣→｢エフェクト割当｣のHgSAO_DepRTタブよりモデルを選択してHgSAO_Cancel.fxsubを適用すると、
意図的に指定したモデルだけAOを解除することが出来ます。
(Lat式モデルを使用する場合は,この方法でフェイス部のAO解除を行ってください)


・MikuMikuMovingについて
このエフェクトはMikuMikuMovingにも対応しています。
HgSAO.fxを直接MikuMikuMovingにロードしてご利用下さい。
MMMではHgSAO.fxのエフェクトプロパティに追加したUIコントロールよりパラメータ変更が可能です。
(エフェクトプロパティの｢拡大｣,｢アルファ｣はMMEのSi,Trと同じ扱いです)


・技術情報
開発元サイト：https://research.nvidia.com/publication/scalable-ambient-obscurance
mogg氏紹介記事：http://ch.nicovideo.jp/mogg/blomaga/ar568279


・更新履歴
v0.0.2  2015/10/31 MMDのフルスクリーン表示で正常に描画されなくなる不具合の修正
                   他のポストエフェクト併用時に正常に描画されなくなる不具合の修正
v0.0.1  2014/7/25  初回版公開


・免責事項
ご利用・改変・二次配布は自由にやっていただいてかまいません。連絡も不要です。
ただしこれらの行為は全て自己責任でやってください。
このプログラム使用により、いかなる損害が生じた場合でも当方は一切の責任を負いません。

※本プログラムはBSDライセンスとします(元のソースコードがそうなので)。
  再配布の際にプログラム内にある条項は削除しないでください。


by 針金P
Twitter : @HariganeP


